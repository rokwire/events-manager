{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Event Sources{% endblock %}</h1>
{% endblock %}

{% block content %}

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">{{title}}</li>
  </ol>
</nav>
<h1  class="text-center">{{title}}</h1>
<div class="row">
  <div class="col-2">
    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      {% for key, value in allsources.items() %}
        {% if key == sourceId %}
	<a class="nav-link active" id="v-pills-school-tab" data-toggle="pill" href="#" role="tab" aria-controls="v-pills-school" aria-selected="true">{{value[0]}}</a>
        {% else %}
	<a class="nav-link" id="v-pills-school-tab" href="{{url_for('event.source', sourceId=key)}}" role="tab" aria-selected="false">{{value[0]}}</a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  <div class="col">
    <div class="tab-content" id="v-pills-tabContent">
      <div class="tab-pane fade show active" id="v-pills-school" role="tabpanel" aria-labelledby="v-pills-school-tab">
<!--
  <div class="list-group">
	{% for item in calendars %}
	{% for key, value in item.items() %}
	  <a href="{{url_for('event.calendar', calendarId=key)}}" class="list-group-item list-group-item-action">{{value}}</a>
	  {% endfor %}
	{% endfor %}
	</div>
-->
  <div id = "accordion">
    {% for item in calendars %}
      {% for key, value in item.items() %}
          <div class="card">
            <div class="card-header" role="tab" id = "head" href="{{url_for('event.calendar', calendarId=key)}}">
              <a href="{{url_for('event.calendar', calendarId=key)}}" class="btn btn-default ml-auto float-left">
                <h3 class="mb-0">{{ value }}</h3>
              </a>
            </div>
        </div class = "card">
      {% endfor %}
    {% endfor %}
  </div class = "accordion">
{% if calendars|length == 0 %}
<div class="text-center">There are no calendars under this source.</div>
{% endif %}

<!--
	<nav aria-label="...">
	  <ul class="pagination justify-content-center">
	    {% if not prev_page %}
	    <li class="page-item disabled">
	      <a class="page-link" href="#" tabindex="-1">Previous</a>
	    </li>
	    {% else %}
	    <li class="page-item">
		    <a class="page-link" href={{prev_page}}>Previous</a>
	    </li>
	    {% endif %}
	    {% for i in range(total) %}
	      {% if i == current_page %}
	    <li class="page-item active">
		    <a class="page-link" href="#">{{i}}<span class="sr-only">(current)</span></a>
	    </li>
	      {% else %}
	      <li class="page-item"><a class="page-link" href="{{url_for('event.source', sourceId=sourceId, page=i)}}">{{i}}</a></li>
	      {% endif %}
	    {% endfor %}
	    {% if not next_page %}
	    <li class="page-item disabled">
	      <a class="page-link" href="#" tabindex="-1">Next</a>
	    </li>
	    {% else %}
	    <li class="page-item">
		    <a class="page-link" href={{next_page}}>Next</a>
	    </li>
	    {% endif %}
	  </ul>
	</nav>
-->
      </div>
    </div>
  </div>
</div>
{% endblock %}
