{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Event Sources{% endblock %}</h1>
{% endblock %}

{% block content %}
<h1>{{title}}</h1>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">{{title}}</li>
  </ol>
</nav>

<div class="row">
  <div class="col-3">
    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      {% for key, val in allsources %}
        {% if key == sourceId %}
          <a class="nav-link active" id="v-pills-school-tab" data-toggle="pill" href="#" role="tab" aria-controls="v-pills-school" aria-selected="true">Webtools</a>
        {% else %}
	<a class="nav-link" id="v-pills-school-tab" data-toggle="pill" href="{{url_for('event.source', sourceId=key)}}" role="tab" aria-controls="v-pills-school" aria-selected="true">Webtools</a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  <div class="col-9">
    <div class="tab-content" id="v-pills-tabContent">
      <div class="tab-pane fade show active" id="v-pills-school" role="tabpanel" aria-labelledby="v-pills-school-tab">
	<div class="list-group">
	  {% for key, value in calendars %}
	  <a href="{{url_for('event.calendar', calendarId=key)}}" class="list-group-item list-group-item-action">{{value}}</a>
	  {% endfor %}
	<nav aria-label="...">
	  <ul class="pagination">
	    {% if prev_page is None %}
	    <li class="page-item disabled">
	      <a class="page-link" href="#" tabindex="-1">Previous</a>
	    </li>
	    {% else %}
	    <li class="page-item">
	      <a class="page-link" href=prev_page>Prevoius</a>
	    </li>
	    {% endif %}
	    {% for i in range(total) %}
	      {% if i == current_page %}
	    <li class="page-item active">
		    <a class="page-link" href="#">{{i}}<span class="sr-only">(current)</span></a>
	    </li>
	      {% else %}
	      <li class="page-item"><a class="page-link" href="{{url_for('event.source', sourceId=sourceId, page=i)}}">{{i}}</a></li>
	      {% endif %}
	    {% endfor %}
	    {% if next_page is None %}
	    <li class="page-item disabled">
	      <a class="page-link" href="#" tabindex="-1">Next</a>
	    </li>
	    {% else %}
	    <li class="page-item">
	      <a class="page-link" href=next_page>Next</a>
	    </li>
	    {% endif %}
	  </ul>
	</nav>
	</div>
      </div>
      <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
      Some text 2
      </div>
      <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
	Some text 3
	      {% for e in events%}
    {% if e.source == "placeholder2" %}
      <div>{{e.xml}}</div>
	      {% if e.status == "incomplete" %}
	      <button class="btn btn-primary btn-block approve-btn" value={{e._id}} name="approve_button" type="submit">Approve</button>
	      {% else %}
	      <button class="btn btn-primary btn-block" disabled>Approved</button>
	      {% endif %}
      <hr>
    {% endif %}
  {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
